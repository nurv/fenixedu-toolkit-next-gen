{"version":3,"sources":["../../../src/js/toolkit/browser.js"],"names":[],"mappings":"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","file":"browser.js","sourcesContent":["import SemVer from \"toolkit/semver\";\n\nvar t = true;\n\nexport var browser = {};\n\nfunction detect(ua) {\n\n  function getFirstMatch(regex) {\n    var match = ua.match(regex);\n    return (match && match.length > 1 && match[1]) || '';\n  }\n\n  function getSecondMatch(regex) {\n    var match = ua.match(regex);\n    return (match && match.length > 1 && match[2]) || '';\n  }\n\n  var iosdevice = getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase();\n  var likeAndroid = /like android/i.test(ua);\n  var android = !likeAndroid && /android/i.test(ua);\n  var edgeVersion = getFirstMatch(/edge\\/(\\d+(\\.\\d+)?)/i);\n  var versionIdentifier = getFirstMatch(/version\\/(\\d+(\\.\\d+)?)/i);\n  var tablet = /tablet/i.test(ua);\n  var mobile = !tablet && /[^-]mobi/i.test(ua);\n  var result;\n\n  if (/opera|opr/i.test(ua)) {\n    result = {\n      name: 'Opera',\n      id:'opera',\n      opera: true,\n      version: versionIdentifier || getFirstMatch(/(?:opera|opr)[\\s\\/](\\d+(\\.\\d+)?)/i)\n    }\n  }else if (/yabrowser/i.test(ua)) {\n    result = {\n      name: 'Yandex Browser',\n      yandexbrowser: true,\n      id:\"yandex\",\n      version: versionIdentifier || getFirstMatch(/(?:yabrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)\n    }\n  }else if (/windows phone/i.test(ua)) {\n    result = {\n      name: 'Windows Phone',\n      id:\"windows_phone\",\n      windowsphone: true\n    }\n    if (edgeVersion) {\n      result.msedge = t\n      result.version = edgeVersion\n    }\n    else {\n      result.msie = true\n      result.version = getFirstMatch(/iemobile\\/(\\d+(\\.\\d+)?)/i)\n    }\n  }else if (/msie|trident/i.test(ua)) {\n    result = {\n      name: 'Internet Explorer', \n      msie: true, \n      id: \"msie\",\n      version: getFirstMatch(/(?:msie |rv:)(\\d+(\\.\\d+)?)/i),\n    }\n  }else if (/chrome.+? edge/i.test(ua)) {\n    result = {\n      name: 'Microsoft Edge', \n      id:\"msedge\",\n      msedge: true, \n      version: edgeVersion\n    }\n  }else if (/chrome|crios|crmo/i.test(ua)) {\n    result = {\n      name: 'Chrome', \n      id: \"chrome\",\n      chrome: true, \n      version: getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n    }\n  }else if (/kindle/i.test(ua)) {\n    result = {\n      name: 'Kindle', \n      id: \"kindle\",\n      chrome: true, \n      version: getFirstMatch(/(?:kindle)\\/(\\d+(\\.\\d+)?)/i)\n    }\n  }else if (iosdevice) {\n    result = {\n      name : iosdevice == 'iphone' ? 'iPhone' : iosdevice == 'ipad' ? 'iPad' : 'iPod'\n    }\n    result.id = result.name.toLowerCase();\n\n    // WTF: version is not part of user agent in web apps\n    if (versionIdentifier) {\n      result.version = versionIdentifier\n    }\n  }else if (/sailfish/i.test(ua)) {\n    result = {\n      name: 'Sailfish',\n      id:\"sailfish\",\n      sailfish: true,\n      version: getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i)\n    }\n  }else if (/seamonkey\\//i.test(ua)) {\n    result = {\n      name: 'SeaMonkey', \n      id:\"seamonkey\",\n      seamonkey: true, \n      version: getFirstMatch(/seamonkey\\/(\\d+(\\.\\d+)?)/i)\n    }\n  }else if (/firefox|iceweasel/i.test(ua)) {\n    result = {\n      name: 'Firefox', \n      firefox: t, \n      id: \"firefox\",\n      version: getFirstMatch(/(?:firefox|iceweasel)[ \\/](\\d+(\\.\\d+)?)/i)\n    }\n    if (/\\((mobile|tablet);[^\\)]*rv:[\\d\\.]+\\)/i.test(ua)) {\n      result.firefoxos = true\n    }\n  }else if (/silk/i.test(ua)) {\n    result =  {\n      name: 'Amazon Silk', \n      id:'silk',\n      silk: true, \n      version : getFirstMatch(/silk\\/(\\d+(\\.\\d+)?)/i)\n    }\n  }else if (android) {\n    result = {\n      name: 'Android',\n      id: 'android',\n      version: versionIdentifier\n    }\n  }else if (/phantom/i.test(ua)) {\n    result = {\n      name: 'PhantomJS', \n      id: \"phantomjs\",\n      phantom: true,\n      version: getFirstMatch(/phantomjs\\/(\\d+(\\.\\d+)?)/i)\n    }\n  }else if (/blackberry|\\bbb\\d+/i.test(ua) || /rim\\stablet/i.test(ua)) {\n    result = {\n      name: 'BlackBerry', \n      id: \"blackberry\",\n      blackberry: true,\n      version: versionIdentifier || getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.\\d+)?)/i)\n    }\n  }else if (/(web|hpw)os/i.test(ua)) {\n    result = {\n      name: 'WebOS', \n      webos: true, \n      id: \"webos\",\n      version: versionIdentifier || getFirstMatch(/w(?:eb)?osbrowser\\/(\\d+(\\.\\d+)?)/i)\n    };\n    /touchpad\\//i.test(ua) && (result.touchpad = t)\n  }else if (/bada/i.test(ua)) {\n    result = {\n      name: 'Bada', \n      id: 'bada', \n      bada: true, \n      version: getFirstMatch(/dolfin\\/(\\d+(\\.\\d+)?)/i)\n    };\n  }else if (/tizen/i.test(ua)) {\n    result = {\n      name: 'Tizen', \n      tizen: true, \n      id: 'tizen',\n      version: getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.\\d+)?)/i) || versionIdentifier\n    };\n  }\n  else if (/safari/i.test(ua)) {\n    result = {\n      name: 'Safari', \n      safari: true, \n      id: 'safari',\n      version: versionIdentifier\n    }\n  }else {\n    result = {\n      name: getFirstMatch(/^(.*)\\/(.*) /),\n      id: getFirstMatch(/^(.*)\\/(.*) /).toLowerCase(),\n      version: getSecondMatch(/^(.*)\\/(.*) /)\n   };\n }\n\n  // set webkit or gecko flag for browsers based on these engines\n  if (!result.msedge && /(apple)?webkit/i.test(ua)) {\n    result.name = result.name || \"Webkit\"\n    result.id = result.id || \"webkit\"\n    result.webkit = true;\n    if (!result.version && versionIdentifier) {\n      result.version = versionIdentifier\n    }\n  } else if (!result.opera && /gecko\\//i.test(ua)) {\n    result.name = result.name || \"Gecko\"\n    result.id = result.id || \"gecko\"\n    result.gecko = true\n    result.version = result.version || getFirstMatch(/gecko\\/(\\d+(\\.\\d+)?)/i)\n  }\n\n  // set OS flags for platforms that have multiple browsers\n  if (!result.msedge && (android || result.silk)) {\n    result.android = true;\n  } else if (iosdevice) {\n    result[iosdevice] = t\n    result.ios = true;\n  }\n\n  // OS version extraction\n  var osVersion = '';\n  if (result.windowsphone) {\n    osVersion = getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i);\n  } else if (iosdevice) {\n    osVersion = getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i);\n    osVersion = osVersion.replace(/[_\\s]/g, '.');\n  } else if (android) {\n    osVersion = getFirstMatch(/android[ \\/-](\\d+(\\.\\d+)*)/i);\n  } else if (result.webos) {\n    osVersion = getFirstMatch(/(?:web|hpw)os\\/(\\d+(\\.\\d+)*)/i);\n  } else if (result.blackberry) {\n    osVersion = getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i);\n  } else if (result.bada) {\n    osVersion = getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i);\n  } else if (result.tizen) {\n    osVersion = getFirstMatch(/tizen[\\/\\s](\\d+(\\.\\d+)*)/i);\n  }\n  if (osVersion) {\n    result.osversion = osVersion;\n  }\n\n  // device type extraction\n  var osMajorVersion = osVersion.split('.')[0];\n  if (tablet || iosdevice == 'ipad' || (android && (osMajorVersion == 3 || (osMajorVersion == 4 && !mobile))) || result.silk) {\n    result.tablet = true;\n  } else if (mobile || iosdevice == 'iphone' || iosdevice == 'ipod' || android || result.blackberry || result.webos || result.bada) {\n    result.mobile = true;\n  }\n\n  // Graded Browser Support\n  // http://developer.yahoo.com/yui/articles/gbs\n  if (result.msedge ||\n      (result.msie && result.version >= 10) ||\n      (result.yandexbrowser && result.version >= 15) ||\n      (result.chrome && result.version >= 20) ||\n      (result.firefox && result.version >= 20.0) ||\n      (result.safari && result.version >= 6) ||\n      (result.opera && result.version >= 10.0) ||\n      (result.ios && result.osversion && result.osversion.split(\".\")[0] >= 6) ||\n      (result.blackberry && result.version >= 10.1)\n      ) {\n    result.a = t;\n  }\n  else if ((result.msie && result.version < 10) ||\n      (result.chrome && result.version < 20) ||\n      (result.firefox && result.version < 20.0) ||\n      (result.safari && result.version < 6) ||\n      (result.opera && result.version < 10.0) ||\n      (result.ios && result.osversion && result.osversion.split(\".\")[0] < 6)\n      ) {\n    result.c = true;\n  } else result.x = true;\n\n  return result\n}\n\nbrowser.ua = function(x){\n  if(x === undefined){\n    return Bennu.browser._ua;\n  }else{\n    Bennu.browser._ua = x;\n    Bennu.browser._meta = detect(x);\n    return x;\n  }\n};\n\nbrowser.ua(typeof navigator !== 'undefined' ? navigator.userAgent : '');\n\nbrowser.locale = function() {\n    return (navigator.userLanguage || navigator.language || 'en-US').toLowerCase();\n};\n\nbrowser.name = function() {\n    return this._meta.name;\n};\n\nbrowser.id = function() {\n    return this._meta.id;\n};\n\nbrowser.version = function() {\n    if(this._meta.version){\n      var version = this._meta.version + \"\" || '0.0';\n      \n      if (version.indexOf(\".\") == -1){\n        version = version + \".0\";\n      }\n      return new SemVer(version);\n    }else{\n      return new SemVer('0.0');\n    }\n};\n\n\nbrowser.is_capable = function() {\n    return this.uses_webkit() || this.is_firefox() || this.is_opera() || (this.is_ie() && this.version().major >= 7);\n};\n\nbrowser.is_supported = function() {\n    return this.uses_webkit() || this.is_firefox() || this.is_opera() || (this.is_ie() && this.version().major >= 9);\n};\n\nbrowser.uses_webkit = function() {\n    return this._meta.webkit || false;\n};\n\nbrowser.on_ios = function() {\n    return this.on_ipod() || this.on_ipad() || this.on_iphone();\n};\n\nbrowser.on_mobile = function() {\n    return this._meta.mobile;\n};\n\nbrowser.on_blackberry = function() {\n    return this._meta.id == \"blackberry\";\n};\n\nbrowser.on_android = function() {\n    return this._meta.id == \"android\";\n};\n\nbrowser.on_iphone = function() {\n    return this._meta.id == \"iphone\";\n};\n\nbrowser.on_ipad = function() {\n    return this._meta.id == \"ipad\";\n}\n\nbrowser.on_ipod = function() {\n    return this._meta.id == \"ipod\";\n};\n\nbrowser.is_safari = function() {\n    return this._meta.id == \"safari\";\n};\n\n\nbrowser.is_firefox = function() {\n    return this._meta.id == \"firefox\";\n}\n \nbrowser.is_chrome = function() {\n    return this._meta.id == \"chrome\"\n};\n\nbrowser.is_ie = function() {\n    return this._meta.id == \"msie\"\n};\n\nbrowser.is_ie6 = function() {\n    return this.is_ie() && this.version().major === '6';\n};\n\nbrowser.is_ie7 = function() {\n    return this.is_ie() && this.version().major === '7';\n};\nbrowser.is_ie8 = function() {\n    return this.is_ie() && this.version().major === '8';\n};\n\nbrowser.is_ie9 = function() {\n    return this.is_ie() && this.version().major === '9';\n};\n\nbrowser.is_ie10 = function() {\n    return this.is_ie() && this.version().major === '10';\n};\n\nbrowser.is_ie11 = function() {\n    return this.is_ie() && this.version().major === '11';\n};\n\nbrowser.is_opera = function() {\n    return this._meta.id == \"opera\"\n};\n\nbrowser.on_mac = function() {\n    return !!this._ua.match(/Mac OS X/);\n};\n\nbrowser.on_windows = function() {\n    return !!this._ua.match(/Windows/);\n};\n\nbrowser.on_linux = function() {\n    return !!this._ua.match(/Linux/);\n};\n\nbrowser.on_tablet = function() {\n    return this._meta.tablet || false;\n};\n\nbrowser.on_kindle = function() {\n    return !!this._ua.match(/Kindle/);\n};\n\nbrowser.platform = function() {\n    if (this.on_linux()) {\n      return 'linux';\n    } else if (this.on_mac()) {\n      return 'mac';\n    } else if (this.on_windows()) {\n      return 'windows';\n    } else {\n      return 'other';\n    }\n};\n\nbrowser.osVersion = function() {\n  if (this._meta.osVersion){\n    if (this._meta.osVersion.indexOf(\".\") == -1){\n      return this._meta.osVersion(this._meta.osVersion + \".0\");\n    }else{\n      return this._meta.osVersion(this._meta.osVersion);\n    }\n  }else{\n    return new SemVer(\"0.0\");\n  }\n};\n\nbrowser.meta = function() {\n    return this._meta;\n  };\n\nbrowser.a = function(cb) {\n  if (this._meta.a){\n    cb && cb();\n  }\n  return this;\n};\n\nbrowser.c = function(cb) {\n  if (this._meta.c){\n    cb && cb();\n  }\n  return this;\n};\n\nbrowser.x = function(cb) {\n  if (this._meta.c){\n    cb && cb();\n  }\n  return this;\n};\n\nbrowser.toString = function() {\n    return this.name() + \" \" + this.version().toString();\n}"]}